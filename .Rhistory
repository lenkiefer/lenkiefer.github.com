coord_equal() +
theme(legend.position = 'top',
legend.key = element_blank()) +
scale_fill_manual(values = viridis(7)[2:7],
guide = guide_legend(nrow = 1, direction = 'horizontal',
label.hjust = 0, label.position = 'bottom',
keywidth = 5.51, keyheight = 0.75, title = "")) +
labs(title = "Home prices in Dallas-Fort Worth, Tex.",
subtitle = "Annual average home-price change from 1990 to 2015",
caption = "Map by @kyle_e_walker | Source: Federal Housing Finance Agency")
circlef
str(circlef)
dfwf <- fortify(dfw_clipped, region = 'id')
circlef <- fortify(circle)
roadsf <- fortify(pri_clipped)
str(dfw_averages)
ggplot() +
geom_polygon(data = circlef, aes(x = long, y = lat, group = group),
fill = '#eaeaea') +
geom_map(data = dfw_averages, map = dfwf,
aes(fill = Zhvi, map_id = zip)) +
geom_path(data = roadsf, aes(x = long, y = lat, group = group), color = 'white',
size = 0.5) +
geom_text(data = dfw_cities@data, aes(x = long, y = lat, label = NAME),
color = 'black', fontface = 'bold', family = 'Tahoma')
ggplot() +
geom_polygon(data = circlef, aes(x = long, y = lat, group = group),
fill = '#eaeaea') +
geom_map(data = dfw_averages, map = dfwf,
aes(fill = Zhvi, map_id = zip))
dfw_average$Zhvi
dfw_averages$Zhvi
ggplot() +
geom_polygon(data = circlef, aes(x = long, y = lat, group = group),
fill = '#eaeaea') +
geom_map(data = dfw_averages, map = dfwf,
aes(fill = 1, map_id = zip)) +
geom_path(data = roadsf, aes(x = long, y = lat, group = group), color = 'white',
size = 0.5) +
geom_text(data = dfw_cities@data, aes(x = long, y = lat, label = NAME),
color = 'black', fontface = 'bold', family = 'Tahoma') +
theme_map(base_family = 'Tahoma', base_size = 14)
ggplot() +
geom_polygon(data = circlef, aes(x = long, y = lat, group = group),
fill = '#eaeaea') +
geom_map(data = dfw_averages, map = dfwf,
aes(fill = 1, map_id = zip)) +
geom_path(data = roadsf, aes(x = long, y = lat, group = group), color = 'white',
size = 0.5) +
geom_text(data = dfw_cities@data, aes(x = long, y = lat, label = NAME),
color = 'black', fontface = 'bold', family = 'Tahoma') +
theme_map(base_family = 'Tahoma', base_size = 14) +
coord_equal() +
theme(legend.position = 'top',
legend.key = element_blank()) +
scale_fill_manual(values = viridis(7)[2:7],
guide = guide_legend(nrow = 1, direction = 'horizontal',
label.hjust = 0, label.position = 'bottom',
keywidth = 5.51, keyheight = 0.75, title = ""))
dfwf
str(dfwf)
ggplot() +
geom_polygon(data = circlef, aes(x = long, y = lat, group = group),
fill = '#eaeaea') +
#geom_map(data = dfw_averages, map = dfwf,           aes(fill = 1, map_id = zip)) +
geom_path(data = roadsf, aes(x = long, y = lat, group = group), color = 'white',
size = 0.5) +
geom_text(data = dfw_cities@data, aes(x = long, y = lat, label = NAME),
color = 'black', fontface = 'bold', family = 'Tahoma') +
theme_map(base_family = 'Tahoma', base_size = 14) +
coord_equal() +
theme(legend.position = 'top',
legend.key = element_blank())
str(dfw_averages)
ggplot() +
geom_polygon(data = circlef, aes(x = long, y = lat, group = group),
fill = '#eaeaea') +
geom_map(data = dfw_averages, map = dfwf,           aes(fill = 1, map_id = RegionName)) +
geom_path(data = roadsf, aes(x = long, y = lat, group = group), color = 'white',
size = 0.5) +
geom_text(data = dfw_cities@data, aes(x = long, y = lat, label = NAME),
color = 'black', fontface = 'bold', family = 'Tahoma') +
theme_map(base_family = 'Tahoma', base_size = 14) +
coord_equal() +
theme(legend.position = 'top',
legend.key = element_blank())
ggplot() +
geom_polygon(data = circlef, aes(x = long, y = lat, group = group),
fill = '#eaeaea') +
geom_map(data = dfw_averages, map = dfwf,           aes(fill = Zhvi, map_id = RegionName)) +
geom_path(data = roadsf, aes(x = long, y = lat, group = group), color = 'white',
size = 0.5) +
geom_text(data = dfw_cities@data, aes(x = long, y = lat, label = NAME),
color = 'black', fontface = 'bold', family = 'Tahoma') +
theme_map(base_family = 'Tahoma', base_size = 14) +
coord_equal() +
theme(legend.position = 'top',
legend.key = element_blank()) +
scale_fill_manual(values = viridis(7)[2:7],
guide = guide_legend(nrow = 1, direction = 'horizontal',
label.hjust = 0, label.position = 'bottom',
keywidth = 5.51, keyheight = 0.75, title = "")) +
labs(title = "Home prices in Dallas-Fort Worth, Tex.",
subtitle = "Annual average home-price change from 1990 to 2015",
caption = "Map by @kyle_e_walker | Source: Federal Housing Finance Agency")
ggplot() +
geom_polygon(data = circlef, aes(x = long, y = lat, group = group),
fill = '#eaeaea') +
geom_map(data = dfw_averages, map = dfwf,           aes(fill = Zhvi, map_id = RegionName)) +
geom_path(data = roadsf, aes(x = long, y = lat, group = group), color = 'white',
size = 0.5) +
geom_text(data = dfw_cities@data, aes(x = long, y = lat, label = NAME),
color = 'black', fontface = 'bold', family = 'Tahoma') +
theme_map(base_family = 'Tahoma', base_size = 14) +
coord_equal() +
theme(legend.position = 'top',
legend.key = element_blank())
ggplot() +
geom_polygon(data = circlef, aes(x = long, y = lat, group = group),
fill = '#eaeaea') +
geom_map(data = dfw_averages, map = dfwf,           aes(fill = Zhvi, map_id = RegionName),alpha=0.75) +
geom_path(data = roadsf, aes(x = long, y = lat, group = group), color = 'white',
size = 0.5) +
geom_text(data = dfw_cities@data, aes(x = long, y = lat, label = NAME),
color = 'black', fontface = 'bold', family = 'Tahoma') +
theme_map(base_family = 'Tahoma', base_size = 14) +
coord_equal() +
theme(legend.position = 'top',
legend.key = element_blank()) +
scale_fill_viridis()
ggplot() +
geom_polygon(data = circlef, aes(x = long, y = lat, group = group),
fill = '#eaeaea') +
geom_map(data = dfw_averages, map = dfwf,           aes(fill = Zhvi, map_id = RegionName),alpha=0.75) +
geom_path(data = roadsf, aes(x = long, y = lat, group = group), color = 'white',
size = 0.5) +
geom_text(data = dfw_cities@data, aes(x = long, y = lat, label = NAME),
color = 'black', fontface = 'bold', family = 'Tahoma') +
theme_map(base_family = 'Tahoma', base_size = 14) +
coord_equal() +
theme(legend.position = 'top',
legend.key = element_blank()) +
scale_fill_viridis(name="Median Value\nlog scale\n",discrete=F,option="D",end=0.95,direction=-1,
limits=c(log(10000),log(1e7)),
breaks=c(log(10000),log(100000),log(1e7)),
labels=c("$10,000","$100,000","$1,000,000")
)
ggplot() +
geom_polygon(data = circlef, aes(x = long, y = lat, group = group),
fill = '#eaeaea') +
geom_map(data = dfw_averages, map = dfwf,           aes(fill = log(Zhvi), map_id = RegionName),alpha=0.75) +
geom_path(data = roadsf, aes(x = long, y = lat, group = group), color = 'white',
size = 0.5) +
geom_text(data = dfw_cities@data, aes(x = long, y = lat, label = NAME),
color = 'black', fontface = 'bold', family = 'Tahoma') +
theme_map(base_family = 'Tahoma', base_size = 14) +
coord_equal() +
theme(legend.position = 'top',
legend.key = element_blank()) +
scale_fill_viridis(name="Median Value\nlog scale\n",discrete=F,option="D",end=0.95,direction=-1,
limits=c(log(10000),log(1e7)),
breaks=c(log(10000),log(100000),log(1e7)),
labels=c("$10,000","$100,000","$1,000,000")
)
ggplot() +
geom_polygon(data = circlef, aes(x = long, y = lat, group = group),
fill = '#eaeaea') +
geom_map(data = dfw_averages, map = dfwf,           aes(fill = log(Zhvi), map_id = RegionName),alpha=0.75) +
geom_path(data = roadsf, aes(x = long, y = lat, group = group), color = 'white',
size = 0.5) +
geom_text(data = dfw_cities@data, aes(x = long, y = lat, label = NAME),
color = 'black', fontface = 'bold', family = 'Tahoma') +
theme_map(base_family = 'Tahoma', base_size = 14) +
coord_equal() +
theme(legend.position = 'top',
legend.key = element_blank()) +
scale_fill_viridis(name="Median Value\nlog scale\n",discrete=F,option="D",end=0.95,direction=-1,
limits=c(log(10000),log(1e7)),
breaks=c(log(10000),log(100000),log(1e7)),
labels=c("$10,000","$100,000","$1,000,000"))+
labs(subtitle="Median Home Value ($, log scale)",
,title="Distribution of estimated home values by ZIP Code",
caption="@lenkiefer Source: Zillow Home Value Index for June 2016 (as of 8/20/2016)")
ggplot() +
geom_polygon(data = circlef, aes(x = long, y = lat, group = group),
fill = '#eaeaea') +
geom_map(data = dfw_averages, map = dfwf,           aes(fill = log(Zhvi), map_id = RegionName),alpha=0.75) +
geom_path(data = roadsf, aes(x = long, y = lat, group = group), color = 'white',
size = 0.5) +
geom_text(data = dfw_cities@data, aes(x = long, y = lat, label = NAME),
color = 'black', fontface = 'bold') +
theme_map( base_size = 14) +
coord_equal() +
theme(legend.position = 'top',
legend.key = element_blank()) +
scale_fill_viridis(name="Median Value\nlog scale\n",discrete=F,option="D",end=0.95,direction=-1,
limits=c(log(10000),log(1e7)),
breaks=c(log(10000),log(100000),log(1e7)),
labels=c("$10,000","$100,000","$1,000,000"))+
labs(subtitle="Median Home Value ($, log scale)",
,title="Distribution of estimated home values by ZIP Code",
caption="@lenkiefer Source: Zillow Home Value Index for June 2016 (as of 8/20/2016)")
ggplot() +
geom_polygon(data = circlef, aes(x = long, y = lat, group = group),
fill = '#eaeaea') +
geom_map(data = dfw_averages, map = dfwf,           aes(fill = log(Zhvi), map_id = RegionName),alpha=0.75) +
geom_path(data = roadsf, aes(x = long, y = lat, group = group), color = 'white',
size = 0.5) +
geom_text(data = dfw_cities@data, aes(x = long, y = lat, label = NAME),
color = 'black', fontface = 'bold') +
theme_map( base_size = 14) +
coord_equal() +
theme(legend.position = 'top',
legend.key = element_blank()) +
scale_fill_viridis(name="Median Value\nlog scale\n",discrete=F,option="D",end=0.95,direction=-1,
limits=c(log(10000),log(1e7)),
breaks=c(log(10000),log(100000),log(1e7)),
labels=c("$10,000","$100,000","$1,000,000"))+
labs(subtitle="Median Home Value ($, log scale)",
title="Distribution of estimated home values by ZIP Code",
caption="@lenkiefer Source: Zillow Home Value Index for June 2016 (as of 8/20/2016)")
ggplot() +
geom_polygon(data = circlef, aes(x = long, y = lat, group = group),
fill = '#eaeaea') +
geom_map(data = dfw_averages, map = dfwf,           aes(fill = log(Zhvi), map_id = RegionName),alpha=0.75) +
geom_path(data = roadsf, aes(x = long, y = lat, group = group), color = 'white',
size = 0.5) +
geom_text(data = dfw_cities@data, aes(x = long, y = lat, label = NAME),
color = 'black', fontface = 'bold') +
theme_map( base_size = 14) +
coord_equal() +
theme(legend.position = 'top',
legend.key = element_blank()) +
scale_fill_viridis(name="",discrete=F,option="D",end=0.95,direction=-1,
limits=c(log(10000),log(1e7)),
breaks=c(log(10000),log(100000),log(1e7)),
labels=c("$10,000","$100,000","$1,000,000"))+
labs(subtitle="Median Home Value ($, log scale)",
title="Distribution of estimated home values by ZIP Code",
caption="@lenkiefer Source: Zillow Home Value Index for June 2016 (as of 8/20/2016)")
ggplot() +
geom_polygon(data = circlef, aes(x = long, y = lat, group = group),
fill = '#eaeaea') +
geom_map(data = dfw_averages, map = dfwf,           aes(fill = log(Zhvi), map_id = RegionName),alpha=0.75) +
geom_path(data = roadsf, aes(x = long, y = lat, group = group), color = 'white',
size = 0.5) +
geom_text(data = dfw_cities@data, aes(x = long, y = lat, label = NAME),
color = 'black', fontface = 'bold') +
theme_map( base_size = 14) +
coord_equal() +
theme(legend.position = 'right',
legend.key = element_blank()) +
scale_fill_viridis(name="",discrete=F,option="D",end=0.95,direction=-1,
limits=c(log(10000),log(1e7)),
breaks=c(log(10000),log(100000),log(1e7)),
labels=c("$10,000","$100,000","$1,000,000"))+
labs(subtitle="Median Home Value ($, log scale)",
title="Distribution of estimated home values by ZIP Code",
caption="@lenkiefer Source: Zillow Home Value Index for June 2016 (as of 8/20/2016)")
ggplot() +
geom_polygon(data = circlef, aes(x = long, y = lat, group = group),
fill = '#eaeaea') +
geom_map(data = dfw_averages, map = dfwf,           aes(fill = log(Zhvi), map_id = RegionName),alpha=0.75) +
geom_path(data = roadsf, aes(x = long, y = lat, group = group), color = 'white',
size = 0.5) +
geom_text(data = dfw_cities@data, aes(x = long, y = lat, label = NAME),
color = 'black', fontface = 'bold') +
theme_map( base_size = 14) +
coord_equal() +
theme(legend.position = 'right',
legend.key = element_blank()) +
scale_fill_viridis(name="",discrete=F,option="D",end=0.95,direction=-1,
limits=c(log(10000),log(1e7)),
breaks=c(log(10000),log(100000),log(1e7)),
labels=c("$10,000","$100,000","$1,000,000"))+
labs(subtitle="Median Home Value ($, log scale)",
title="Distribution of estimated home values by ZIP Code",
caption="@lenkiefer Source: Zillow Home Value Index for June 2016 (as of 8/20/2016)")    +
theme(plot.caption=element_text(hjust=0))
?bind_rows
zips
over
?over
?counties
st.list
st.list
zdata
unique(zdata$State)
st.list<-unique(zdata$State) #list of all states
i<-4
ctys <- counties(st.list[i], cb = TRUE)
ctys
theme(plot.subtitle=element_text(color="red"))+
#labels:
labs(y="Percent of homeowners underwater", x="",
caption="@lenkiefer Source: Zillow Negative Equity Report (2016Q1)",
subtitle=unique(dtf[.frame==i]$RegionName),
title="Negative Equity by State")
print(g)
ani.pause()
library(readxl)
library(data.table)
library(dplyr)
library(tidyr)
library('ggbeeswarm')
library(viridis)
library(ggplot2)
library(scales)
library(ggthemes)
library(tweenr)
library(purrr)
library(animation)
library(acs)
library(dplyr)
library(reshape2)
library(stringr)
library(ggplot2)
library(ggthemes)
library(ggalt)
library(scales)
library(rgeos)
library(maptools)
library(albersusa)
library(broom)
library(ineq) #used for concentration indices
path<-C:\Users\Leonard\Documents\Data Viz\blog\pophousinghpa
path<-"C:/Users/Leonard/Documents/Data Viz/blog/geo/"
popDF<-read_excel(paste0(path,"county2010_hist_pops.xlsx"),sheet="c2010_hist_pops")
shareDF<-read_excel(paste0(path,"county2010_hist_pops.xlsx"),sheet="national_shares")
shareDF<-shareDF %>% gather(year.of,"share",5:27)
shareDF<-mutate(shareDF,year=substr(year.of,6,10))
shareDF<-data.table(shareDF)
shareDF<-rename(shareDF,fips=GEOID10 )
popDF<-popDF %>% gather(year.of,"pop",5:27)
popDF<-mutate(popDF,year=ifelse(substr(year.of,1,1)=="e",substr(year.of,5,9),substr(year.of,4,8)))
popDF<-data.table(popDF)
popDF<-rename(popDF,fips=GEOID10 )
dt<-data.table(popDF)
dt[,sum(pop),by=year]
states<-usa_composite()
smap<-fortify(states,region="fips_state")
smap.all<-smap
counties <- counties_composite()
#get data:
counties@data <- left_join(counties@data, popDF.i, by = "fips")
counties@data <- left_join(counties@data, shareDF.i, by = "fips")
cmap <- fortify(counties_composite(), region="fips")
cmap$state<-substr(cmap$id,1,2)
cmap$county<-substr(cmap$id,3,5)
cmap$fips<-paste0(cmap$state,cmap$county)
cmap.all<-cmap
mycaption<-"@lenkiefer Source: Schroeder, Jonathan P. (2016). Historical Population Estimates for 2010 U.S. States, Counties and Metro/Micro Areas, 1790-2010. Retrieved from the Data Repository for the University of Minnesota, http://doi.org/10.13020/D6XW2H."
mycaption <- paste0(strwrap(mycaption, 130), sep="", collapse="\n")
#total counts map:
ggplot() +
geom_map(data = cmap.all, map = cmap.all,
aes(x = long, y = lat, map_id = id),
color = "#2b2b2b", size = 0.05, fill = NA) +
geom_map(data = counties@data, map = cmap.all,
aes(fill =log(pop), map_id = fips),
color = NA) +
geom_map(data = smap.all, map = smap.all,
aes(x = long, y = lat, map_id = id),
color = "gray", size = .25, fill = NA) +
theme_map( base_size = 12) +
theme(plot.title=element_text( size = 16, margin=margin(b=10))) +
theme(plot.subtitle=element_text(size = 14, margin=margin(b=-20))) +
theme(plot.caption=element_text(size = 9, margin=margin(t=-15))) +
coord_proj(us_laea_proj) +   labs(title="",subtitle="" ) +
scale_fill_viridis(name = "Population", discrete=F,option="D",end=0.95,direction=-1)+
theme(legend.position = "none") +theme(plot.caption=element_text(hjust=0,vjust=1,margin=margin(t=10)))+
labs(x="Population in 2014 (log scale)",y="",
#subtitle="Each dot represents 1 county",
title="County Population Distribution",
caption="@lenkiefer Source: TBD")
y.list<-unique(popDF$year)
yy<-y.list[1]
yy<-"1900"
popDF.i<-subset(popDF,year==yy)
shareDF.i<-subset(shareDF,year==yy)
#shareDF.i<-shareDF.i[,c(fips,share)]
shareDF.i<-data.table(shareDF.i)[,list(fips,share)]
counties <- counties_composite()
#get data:
counties@data <- left_join(counties@data, popDF.i, by = "fips")
counties@data <- left_join(counties@data, shareDF.i, by = "fips")
shareDF
shareDF<-read_excel(paste0(path,"county2010_hist_pops.xlsx"),sheet="national_shares")
shareDF<-shareDF %>% gather(year.of,"share",5:27)
shareDF<-mutate(shareDF,year=substr(year.of,6,10))
shareDF<-data.table(shareDF)
shareDF<-rename(shareDF,fips=GEOID10 )
head(shareDF)
library(dplyr)
shareDF<-rename(shareDF,fips=GEOID10 )
names(shareDF)
rename(shareDF,fips=GEOID10)
rename(shareDF,fips=GEOID10)
shareDF<-read_excel(paste0(path,"county2010_hist_pops.xlsx"),sheet="national_shares")
shareDF<-shareDF %>% gather(year.of,"share",5:27)
shareDF<-mutate(shareDF,year=substr(year.of,6,10))
#shareDF<-data.table(shareDF)
shareDF<-rename(shareDF,fips=GEOID10 )
names(shareDF)
?rename
popDF<-popDF %>% gather(year.of,"pop",5:27)
popDF<-mutate(popDF,year=ifelse(substr(year.of,1,1)=="e",substr(year.of,5,9),substr(year.of,4,8)))
popDF<-data.table(popDF)
library(d3scatter)
devtools::install_github("jcheng5/d3scatter")
library(d3scatter)
devtools::install_github("jcheng5/d3scatter")
library(crosstalk)
sd <- SharedData$new(txhousing, ~year)
library(plotly)
library(tidyverse)
p <- ggplot(sd, aes(month, median)) +
geom_line(aes(group = year)) +
geom_smooth(data = txhousing, method = "gam") +
facet_wrap(~ city)
ggplotly(p, tooltip = "year") %>%
highlight(on = "plotly_click", defaultValues = 2015, color = "red")
p <- ggplot(sd, aes(month, median)) +
geom_line(aes(group = year)) +
geom_smooth(data = txhousing, method = "gam") +
facet_wrap(~ city)
ggplotly(p, tooltip = "year") %>%
highlight(on = "plotly_click", defaultValues = 2015, color = "red")
library(crosstalk)
sd <- SharedData$new(txhousing, ~year)
library(plotly)
library(tidyverse)
p <- ggplot(sd, aes(month, median)) +
geom_line(aes(group = year)) +
geom_smooth(data = txhousing, method = "gam") +
facet_wrap(~ city)
ggplotly(p, tooltip = "year") %>%
highlight(on = "plotly_click", defaultValues = 2015, color = "red")
devtools::install_github(“ropensci/plotly”)
devtools::install_github(“ropensci/plotly”)
devtools::install_github("ropensci/plotly")
install.packages("digest")
devtools::install_github("ropensci/plotly")
install.packages(c("bsplus", "colorspace", "data.table", "forcats", "ggrepel", "ggthemes", "haven", "htmlTable", "knitr", "plyr", "proto", "quantmod", "Rcpp", "sp", "tidyverse", "tweenr"))
install.packages(c("bsplus", "colorspace", "data.table", "forcats", "ggrepel", "ggthemes", "haven", "htmlTable", "knitr", "plyr", "proto", "quantmod", "Rcpp", "sp", "tidyverse", "tweenr"))
install.packages(c("bsplus", "colorspace", "data.table", "forcats", "ggrepel", "ggthemes", "haven", "htmlTable", "knitr", "plyr", "proto", "quantmod", "Rcpp", "sp", "tidyverse", "tweenr"))
install.packages(c("bsplus", "colorspace", "data.table", "forcats", "ggrepel", "ggthemes", "haven", "htmlTable", "knitr", "plyr", "proto", "quantmod", "Rcpp", "sp", "tidyverse", "tweenr"))
install.packages(c("bsplus", "colorspace", "data.table", "forcats", "ggrepel", "ggthemes", "haven", "htmlTable", "knitr", "plyr", "proto", "quantmod", "Rcpp", "sp", "tidyverse", "tweenr"))
install.packages(c("bsplus", "colorspace", "data.table", "forcats", "ggrepel", "ggthemes", "haven", "htmlTable", "knitr", "plyr", "proto", "quantmod", "Rcpp", "sp", "tidyverse", "tweenr"))
install.packages(c("bsplus", "colorspace", "data.table", "forcats", "ggrepel", "ggthemes", "haven", "htmlTable", "knitr", "plyr", "proto", "quantmod", "Rcpp", "sp", "tidyverse", "tweenr"))
install.packages(c("bsplus", "colorspace", "data.table", "forcats", "ggrepel", "ggthemes", "haven", "htmlTable", "knitr", "plyr", "proto", "quantmod", "Rcpp", "sp", "tidyverse", "tweenr"))
install.packages(c("bsplus", "colorspace", "data.table", "forcats", "ggrepel", "ggthemes", "haven", "htmlTable", "knitr", "plyr", "proto", "quantmod", "Rcpp", "sp", "tidyverse", "tweenr"))
install.packages(c("bsplus", "colorspace", "data.table", "forcats", "ggrepel", "ggthemes", "haven", "htmlTable", "knitr", "plyr", "proto", "quantmod", "Rcpp", "sp", "tidyverse", "tweenr"))
install.packages(c("bsplus", "colorspace", "data.table", "forcats", "ggrepel", "ggthemes", "haven", "htmlTable", "knitr", "plyr", "proto", "quantmod", "Rcpp", "sp", "tidyverse", "tweenr"))
install.packages(c("bsplus", "colorspace", "data.table", "forcats", "ggrepel", "ggthemes", "haven", "htmlTable", "knitr", "plyr", "proto", "quantmod", "Rcpp", "sp", "tidyverse", "tweenr"))
install.packages(c("bsplus", "colorspace", "data.table", "forcats", "ggrepel", "ggthemes", "haven", "htmlTable", "knitr", "plyr", "proto", "quantmod", "Rcpp", "sp", "tidyverse", "tweenr"))
getwd()
setwd("C:/Users/Leonard/Documents/Data Viz/blog/blogdown/newblog4")
for( f in files ){
x <- readLines(f)
y <- gsub( '\\{% post_url ', "../", x )
cat(y, file=f, sep="\n")
}
for( f in files ){
x <- readLines(f)
y <- gsub( "\\%}", "", x )
cat(y, file=f, sep="\n")
}
files = list.files(
'content/', '[.](md)$', full.names = TRUE,
recursive = TRUE
)
files2 = list.files(
'content/', '[.](Rmd)$', full.names = TRUE,
recursive = TRUE
)
for( f in files ){
x <- readLines(f)
y <- gsub( '\\{% post_url ', "../", x )
cat(y, file=f, sep="\n")
}
for( f in files ){
x <- readLines(f)
y <- gsub( "\\%}", "", x )
cat(y, file=f, sep="\n")
}
for( f in files ){
x <- readLines(f)
y <- gsub( '(..\\/)(\\d{4})(-)(\\d{2})(-)(\\d{2})(-)',
'..\\/..\\/..\\/..\\/\\2\\/\\4\\/\\6\\/', x )
cat(y, file=f, sep="\n")
}
for( f in files ){
x <- readLines(f)
y <- gsub( '(..\\/)(\\d{4})(-)(\\d{2})(-)(\\d{2})(-)',
'..\\/..\\/..\\/..\\/\\2\\/\\4\\/\\6\\/', x )
cat(y, file=f, sep="\n")
}
blogdown::serve_site()
blogdown::serve_site()
files2
for( f in files2 ){
x <- readLines(f)
y <- gsub( '(..\\/)(\\d{4})(-)(\\d{2})(-)(\\d{2})(-)',
'..\\/..\\/..\\/..\\/\\2\\/\\4\\/\\6\\/', x )
cat(y, file=f, sep="\n")
}
blogdown::serve_site()
blogdown::serve_site()
blogdown::serve_site()
blogdown::hugo_build()
blogdown::hugo_build()
