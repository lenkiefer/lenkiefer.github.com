<!DOCTYPE html>
<html lang="en">

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="epop enters the Federal Reserve lexicon">
  <meta name="generator" content="Hugo 0.52" />

  <title>EPOP becomes Fedspeak &middot; Len Kiefer</title>

  
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/pure-min.css">

  <!--[if lte IE 8]>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/grids-responsive-old-ie-min.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/grids-responsive-min.css">
  <!--<![endif]-->

  <!--[if lte IE 8]>
  <link rel="stylesheet" href="/css/side-menu-old-ie.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="/css/side-menu.css">
  <!--<![endif]-->

  <link rel="stylesheet" href="/css/blackburn.css">

  
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

  
  <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet" type="text/css">

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

 
  

  
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/androidstudio.min.css">
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  
  <script>hljs.initHighlightingOnLoad();</script>
  

  <link rel="shortcut icon" href="/img/favicon.PNG" type="image/x-icon" />

  
  

</head>


<body>
<div id="layout">

  
<a href="#menu" id="menuLink" class="menu-link">
  
  <span></span>
</a>
<div id="menu">

  
  <a class="pure-menu-heading brand" href="/">Len Kiefer</a>


  <div class="pure-menu">
    <ul class="pure-menu-list">
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="/"><i class='fa fa-home fa-fw'></i>Home</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="/post/"><i class='fa fa-list fa-fw'></i>Archive</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="/about/"><i class='fa fa-user fa-fw'></i>About</a>
      
        </li>
      
    </ul>
  </div>

  <div class="pure-menu social">
  <ul class="pure-menu-list">

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://twitter.com/@lenkiefer" target="_blank"><i class="fa fa-twitter-square fa-fw"></i>Twitter</a>
    </li>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://linkedin.com/in/leonard-kiefer-51175331" target="_blank"><i class="fa fa-linkedin-square fa-fw"></i>LinkedIn</a>
    </li>
    

    

    

    

    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://github.com/lenkiefer" target="_blank"><i class="fa fa-github-square fa-fw"></i>GitHub</a>
    </li>
    

    

    

    

    

    

    

    

    

    

    

    

    

  </ul>
</div>


  <div>
  <div class="small-print">
    <small>&copy; 2015-2018. All rights reserved.</small>
  </div>
  <div class="small-print">
    <small>Built with&nbsp;<a href="https://gohugo.io/" target="_blank">Hugo</a></small>
    <small>Theme&nbsp;<a href="https://github.com/yoshiharuyamashita/blackburn" target="_blank">Blackburn</a></small>
  </div>
</div>

</div>


  <div id="main">


       <meta name="twitter:card" content="summary_large_image">
       <meta name="twitter:image" content="http://lenkiefer.com//img/charts_jul_10_2019/tf_idf.png" >
     
    <meta property="og:title" content="EPOP becomes Fedspeak">
    <meta property="og:description" content="epop enters the Federal Reserve lexicon">

<div class="header">
  <h1>EPOP becomes Fedspeak</h1>
  <h2>epop enters the Federal Reserve lexicon</h2>
</div>
<div class="content">

  <div class="post-meta">

  <div>
    <i class="fa fa-calendar fa-fw"></i>
    <time>2019/07/09</time>
  </div>

  

  

  
  
  
  <div>
    <i class="fa fa-tags fa-fw"></i>
    
      <a class="post-taxonomy-tag" href="/tags/r">R</a>&nbsp;&#47;
    
      <a class="post-taxonomy-tag" href="/tags/textmining">textmining</a>&nbsp;&#47;
    
      <a class="post-taxonomy-tag" href="/tags/economics">economics</a>&nbsp;&#47;
    
      <a class="post-taxonomy-tag" href="/tags/dataviz">dataviz</a>
    
  </div>
  
  

</div>

  


<p>If I cannot send Adam Ozimek (<a href="https://twitter.com/ModeledBehavior">at Modeled Behavior</a> ) a Diet Pepsi, then the next best thing might be a chart about epop. epop is the term economists use to describe the employment-to-population ratio, a useful summary statistic about the labor market. Perhaps <em>the</em> summary statistic. Adam (and others) has been talking about epop as a key labor market statistic for years. It seems the Federal Reserve is catching on to the usage of the term epop (though many economists over there have been looking at the statistic for a long while too).</p>
<p>In this post I want to update <a href="../../../../2018/07/28/text-mining-fedspeak/">a post from last year: Text Mining Fedspeak</a> where we used the <a href="https://CRAN.R-project.org/package=tidytext">tidytext</a> package for <a href="https://www.r-project.org/">R</a> to textmine the annual monetary policy report. Updating my script for the July 2019 <a href="https://www.federalreserve.gov/monetarypolicy/mpr_default.htm">Monetary Policy Report</a>. I‚Äôve made a few tweaks to my script, so I‚Äôll include them, per usual, hidden in the details tab.</p>
<p><details> <summary>Load Libraries, Wrangle Data</summary></p>
<pre class="r"><code># load libraries ----
suppressPackageStartupMessages({
library(extrafont)
library(ggraph)
library(ggridges)
library(pdftools)
library(tidyverse)
library(tidytext)
library(forcats)
library(reshape2)
library(tidyr)
library(igraph)
library(widyr)
library(lubridate)
library(ggrepel)
library(viridis)}
)

# get data by reading in pdf versions of reports
# list of reports, comments indicate important events around release of report
fed.links=c(&quot;https://www.federalreserve.gov/publications/files/20190705_mprfullreport.pdf&quot;, # July 2019
            &quot;https://www.federalreserve.gov/monetarypolicy/files/20180713_mprfullreport.pdf&quot;,  
            &quot;https://www.federalreserve.gov/monetarypolicy/files/20170707_mprfullreport.pdf&quot;,
            &quot;https://www.federalreserve.gov/monetarypolicy/files/20160621_mprfullreport.pdf&quot;,            # released in jun 2016, but we&#39;ll label it July
            &quot;https://www.federalreserve.gov/monetarypolicy/files/20150715_mprfullreport.pdf&quot;,            # July 2015  ( before lift off)
            &quot;https://www.federalreserve.gov/monetarypolicy/files/20140715_mprfullreport.pdf&quot;,
            &quot;https://www.federalreserve.gov/monetarypolicy/files/20130717_mprfullreport.pdf&quot;,            # July 2013  ( after Taper Tantrum)
            &quot;https://www.federalreserve.gov/monetarypolicy/files/20120717_mprfullreport.pdf&quot;,
            &quot;https://www.federalreserve.gov/monetarypolicy/files/20110713_mprfullreport.pdf&quot;,            # July 2011  ( early recovery)
            &quot;https://www.federalreserve.gov/monetarypolicy/files/20100721_mprfullreport.pdf&quot;,
            &quot;https://www.federalreserve.gov/monetarypolicy/files/20090721_mprfullreport.pdf&quot;,            # July 2009  ( end of Great Recession)
            &quot;https://www.federalreserve.gov/monetarypolicy/files/20080715_mprfullreport.pdf&quot;,
            &quot;https://www.federalreserve.gov/monetarypolicy/files/20070718_mprfullreport.pdf&quot; ,           # July 2007  ( eve of  Great Recession)
            &quot;https://www.federalreserve.gov/boarddocs/hh/2006/july/fullreport.pdf&quot;,
            &quot;https://www.federalreserve.gov/boarddocs/hh/2005/july/fullreport.pdf&quot;,                      # July 2005  ( housing boom)
            &quot;https://www.federalreserve.gov/boarddocs/hh/2004/july/fullreport.pdf&quot;,
            &quot;https://www.federalreserve.gov/boarddocs/hh/2003/july/FullReport.pdf&quot; ,                     # July 2003  ( deflation fears)
            &quot;https://www.federalreserve.gov/boarddocs/hh/2002/july/FullReport.pdf&quot;,
            &quot;https://www.federalreserve.gov/boarddocs/hh/2001/july/FullReport.pdf&quot;,                      # July 2001  ( dot come Recession)
            &quot;https://www.federalreserve.gov/boarddocs/hh/2000/July/FullReport.pdf&quot;,
            &quot;https://www.federalreserve.gov/boarddocs/hh/1999/July/FullReport.pdf&quot;,                      # July 1999  ( eve of dotcom Recession)
            &quot;https://www.federalreserve.gov/boarddocs/hh/1998/july/FullReport.pdf&quot;,
            &quot;https://www.federalreserve.gov/boarddocs/hh/1997/july/FullReport.pdf&quot;,                       # July 1997 ( irrational exhuberance)
            &quot;https://www.federalreserve.gov/boarddocs/hh/1996/july/FullReport.pdf&quot;
)

df_fed &lt;- 
  data.frame(report=c(&quot;Jul2019&quot;,paste0(&quot;Jul&quot;,seq(2018,1996,-1))),stringsAsFactors = FALSE) %&gt;%
  mutate(text= map(fed.links,pdf_text)) %&gt;% unnest(text) %&gt;% 
  group_by(report) %&gt;% mutate(page=row_number()) %&gt;%
  ungroup() %&gt;% mutate(text=strsplit(text,&quot;\r&quot;)) %&gt;% unnest(text) %&gt;% mutate(text=gsub(&quot;\n&quot;,&quot;&quot;,text)) %&gt;%
  group_by(report) %&gt;% mutate(line=row_number()) %&gt;% ungroup() %&gt;% select(report,line,page,text)

fed_text &lt;- 
  df_fed %&gt;% 
  as_tibble() %&gt;%
  unnest_tokens(word,text)</code></pre>
<p></details></p>
<p>With the data in hand, we can update our charts.</p>
<p>Let‚Äôs first look at sentiment in the reports by year (we‚Äôre only looking at the July reports).</p>
<p><details> <summary>Code to construct sentiment, plot data</summary></p>
<pre class="r"><code># custom stop words (includes abbreviations and fragments due to words spanning columns, proper nouns)
custom_stop_words &lt;- 
  bind_rows(data_frame(word = c(tolower(month.abb), &quot;one&quot;,&quot;two&quot;,&quot;three&quot;,&quot;four&quot;,&quot;five&quot;,&quot;six&quot;,
                                &quot;seven&quot;,&quot;eight&quot;,&quot;nine&quot;,&quot;ten&quot;,&quot;eleven&quot;,&quot;twelve&quot;,&quot;mam&quot;,&quot;ered&quot;,
                                &quot;produc&quot;,&quot;ing&quot;,&quot;quar&quot;,&quot;ters&quot;,&quot;sug&quot;,&quot;quar&quot;,&#39;fmam&#39;,&quot;sug&quot;,
                                &quot;cient&quot;,&quot;thirty&quot;,&quot;pter&quot;,&quot;https&quot;,&quot;reac&quot;,&quot;cau&quot;,&quot;suries&quot;,&quot;prod&quot;,
                                &quot;gen&quot;,&quot;cent&quot;,&quot;llc&quot;,&quot;scal&quot;,
                                # new &#39;words&#39; fragments
                                &quot;ty&quot;,&quot;manufactur&quot;,&quot;estly&quot;,&quot;increas&quot;,&quot;tinued&quot;,&quot;transporta&quot;,
                                &quot;sc&quot;,&quot;md&quot;,&quot;struction&quot;,&quot;cial&quot;,&quot;manufac&quot;,&quot;crease&quot;,&quot;wva&quot;,&quot;mercial&quot;,
                                &quot;ness&quot;,&quot;commer&quot;,&quot;al&quot;,&quot;indus&quot;,&quot;dis&quot;,&quot;creases&quot;,&quot;ported&quot;,&quot;idential&quot;,
                                &quot;er&quot;,&quot;es&quot;,&quot;ers&quot;,&quot;ii&quot;,&quot;ued&quot;,&quot;de&quot;,&quot;mand&quot;,&quot;ment&quot;,&quot;moder&quot;,&quot;contin&quot;,
                                &quot;con&quot;,&quot;tacts&quot;, &quot;manu&quot;,&quot;ments&quot;,&quot;construc&quot;,&quot;creased&quot;,&quot;busi&quot;,
                                &quot;mod&quot;,&quot;tions&quot;,&quot;mained&quot;,&quot;ed&quot;,&quot;va&quot;,&quot;nc&quot;,&quot;tive&quot;,&quot;ly&quot;,
                                &quot;charlottesville&quot;,&quot;vermont&quot;,&quot;oregon&quot;,&quot;antic&quot;,&quot;condi&quot;,
                                &quot;antici&quot;,&quot;pres&quot;,&quot;facturing&quot;,&quot;tial&quot;,&quot;pro&quot;,&quot;confi&quot;,&quot;activi&quot;,&quot;als&quot;,
                                # end new words
                                &quot;pp&quot;,&quot;lp&quot;,
                                &quot;pants&quot;,&quot;ter&quot;,&quot;ening&quot;,&quot;ances&quot;,&quot;www.federalreserve.gov&quot;,
                                &quot;tion&quot;,&quot;fig&quot;,&quot;ure&quot;,&quot;figure&quot;,&quot;src&quot;), 
                       lexicon = c(&quot;custom&quot;)), 
            stop_words)</code></pre>
<pre><code>## Warning: `data_frame()` is deprecated, use `tibble()`.
## This warning is displayed once per session.</code></pre>
<pre class="r"><code># make chart 1 

fed_sentiment2 &lt;-
  fed_text %&gt;%
  anti_join(custom_stop_words) %&gt;%
  inner_join(get_sentiments(&quot;bing&quot;)) %&gt;%
  count(report, sentiment) %&gt;%
  spread(sentiment, n, fill = 0) %&gt;%
  mutate(sentiment = positive - negative)</code></pre>
<pre><code>## Joining, by = &quot;word&quot;
## Joining, by = &quot;word&quot;</code></pre>
<pre class="r"><code>g1 &lt;-
ggplot(fed_sentiment2,  aes(factor(1996:2019), sentiment/(negative+positive), fill = sentiment)) +
  geom_col(show.legend = FALSE) +
  scale_fill_distiller(palette=&quot;RdBu&quot;,direction=1)+
  #scale_fill_viridis_c(option=&quot;C&quot;)+
  theme_ridges(font_family=&quot;Roboto&quot;,font_size=10)+
  labs(x=&quot;report for July of each year&quot;,y=&quot;Sentiment (&gt;0 positive, &lt;0 negtaive)&quot;,
       title=&quot;Sentiment of Federal Reserve Monetary Policy Report: 1996-2019&quot;,
       subtitle=&quot;customized bing lexicon\nsentiment = (#positive-#negative)/(#positive+#negative)&quot;,
       caption=&quot;@lenkiefer Source: Federal Reserve Board Monetary Policy Reports&quot;)</code></pre>
<p></details></p>
<pre class="r"><code>g1+theme(axis.text=element_text(size=rel(0.75)))</code></pre>
<p><img src="/post/2019-07-09-epop-becomes-fedspeak_files/figure-html/07-08-2019-plot-chart-1-sentiment-1.png" width="672" /></p>
<p>We can use the term frequency and inverse document frequency (tf-idf) analysis to gauge what terms are important in each report.</p>
<p>We can modify my earlier code following <a href="https://juliasilge.com/blog/reorder-within/">this Julia Silge blogpost</a> to order the bars within each facet. Nifty!</p>
<p><details> <summary>code for tf-idf plot </summary></p>
<pre class="r"><code>fed_textb &lt;- 
  fed_text %&gt;%
  anti_join(custom_stop_words, by=&quot;word&quot;) %&gt;%
  mutate(word = gsub(&quot;[^A-Za-z ]&quot;,&quot;&quot;,word)) %&gt;%  # keep only letters (drop numbers and special symbols)
  filter(word != &quot;&quot;) %&gt;%
  count(report,word,sort=TRUE) %&gt;%
  bind_tf_idf(word, report, n) %&gt;%
  arrange(desc(tf_idf))

g2 &lt;- 
  fed_textb %&gt;% 
  anti_join(custom_stop_words, by=&quot;word&quot;) %&gt;%
  mutate(word = factor(word, levels = rev(unique(word)))) %&gt;% 
  group_by(report) %&gt;%
  mutate(id=row_number()) %&gt;%
  filter(id&lt;11) %&gt;%
  ungroup() %&gt;%
  mutate(wordf = as.factor(word),
         wordf= reorder_within(wordf, tf_idf, report)) %&gt;%
  ggplot(aes(wordf, tf_idf, fill = report)) +
  geom_col(show.legend = FALSE) +
  labs(x = NULL, y = &quot;tf-idf&quot;) +
  facet_wrap(~report,scales=&quot;free&quot;, ncol=5)+
  scale_x_reordered() +
  coord_flip()+
  theme_ridges(font_family=&quot;Roboto&quot;, font_size=10)+
  theme(axis.text.x=element_blank())+
  labs(x=&quot;&quot;,y =&quot;tf-idf&quot;,
       title=&quot;Highest tf-idf words in each July Federal Reserve Monetary Policy Report: 1996-2019&quot;,
       subtitle=&quot;Top 10 terms by tf-idf statistic: term frequncy and inverse document frequency&quot;,
       caption=&quot;@lenkiefer Source: Federal Reserve Board Monetary Policy Reports\nNote: omits stop words, date abbreviations and numbers.&quot;)</code></pre>
<p></details></p>
<pre class="r"><code>g2+theme(axis.text=element_text(size=rel(0.75)))+scale_fill_viridis_d(option=&quot;C&quot;,end=0.85)</code></pre>
<p><img src="/post/2019-07-09-epop-becomes-fedspeak_files/figure-html/07-08-2019-plot-chart-2-tf-idf-1.png" width="1056" /></p>
<p>There in July 2019 we see ‚Äúepop‚Äù. Not only does epop feature in the 2019 report, but it‚Äôs the first time the term shows up (in the July reports). If you go to the abbreviatons page of the July 2018 report, no epop. Indeed, prior to the 2019 report, epop never showed up.</p>
<pre class="r"><code># Note that we pick up the use of epop in the figure headings
fed_text %&gt;%
  filter(word==&quot;epop&quot;) %&gt;%
  count(report)</code></pre>
<pre><code>## # A tibble: 1 x 2
##   report      n
##   &lt;chr&gt;   &lt;int&gt;
## 1 Jul2019    14</code></pre>
<p>Here‚Äôs a movie version of my own epop chart, via Twitter:</p>
<blockquote class="twitter-tweet"><p lang="und" dir="ltr">üé• 1/2 <a href="https://t.co/7Xk17EKamZ">pic.twitter.com/7Xk17EKamZ</a></p>&mdash; üëªüìà ùôªùöéùöó ùô∫ùöíùöéùöèùöéùöõ üò±üìä (@lenkiefer) <a href="https://twitter.com/lenkiefer/status/1147140789262266368?ref_src=twsrc%5Etfw">July 5, 2019</a></blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

<p>R code, modified to track epop, for the charts in the tweets above was shared in my post from earlier this year: <a href="../../../../animated-labor-force-participation-chart/">Animated Labor Force Participation Chart</a>.</p>


  
<div class="prev-next-post pure-g">
  <div class="pure-u-1-24" style="text-align: left;">
    
    <a href="/2019/06/16/charting-the-housing-expansion-with-r/"><i class="fa fa-chevron-left"></i></a>
    
  </div>
  <div class="pure-u-10-24">
    
    <nav class="prev">
      <a href="/2019/06/16/charting-the-housing-expansion-with-r/">Charting the housing expansion with R</a>
    </nav>
    
  </div>
  <div class="pure-u-2-24">
    &nbsp;
  </div>
  <div class="pure-u-10-24">
    
    <nav class="next">
      <a href="/2019/07/13/real-house-price-trends/">Real House Price Trends</a>
    </nav>
    
  </div>
  <div class="pure-u-1-24" style="text-align: right;">
    
    <a href="/2019/07/13/real-house-price-trends/"><i class="fa fa-chevron-right"></i></a>
    
  </div>
</div>



  

</div>
<footer class="post-footer clearfix">
    
        <p class="post-tags">
            <span>Tagged:</span>
            
            
                <a href="/tags/r/">R</a>, 
            
                <a href="/tags/textmining/">textmining</a>, 
            
                <a href="/tags/economics/">economics</a>, 
            
                <a href="/tags/dataviz/">dataviz</a>
            
        </p>
    

    <div class="share">
        
            <a class="icon-twitter" href="https://twitter.com/share?url=http://lenkiefer.com%2f2019%2f07%2f09%2fepop-becomes-fedspeak%2f&text=EPOP%20becomes%20Fedspeak via %40lenkiefer"
                onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                <i class="fa fa-twitter"></i>
                <span class="hidden">Twitter</span>
            </a>
        

        
            <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://lenkiefer.com%2f2019%2f07%2f09%2fepop-becomes-fedspeak%2f"
                onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                <i class="fa fa-facebook"></i>
                <span class="hidden">Facebook</span>
            </a>
        


        
    </div>
</footer>
</div>
</div>
<script src="/js/ui.js"></script>


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-66905937-1', 'auto');
  ga('send', 'pageview');

</script>






</body>
</html>

