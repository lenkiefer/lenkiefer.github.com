<!DOCTYPE html>
<html lang="en">

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Charting the largest increase in mortgage rates this century">
  <meta name="generator" content="Hugo 0.81.0" />

  <title>Mortgage rate increase &middot; Len Kiefer</title>

    

  
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/pure-min.css">

  <!--[if lte IE 8]>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/grids-responsive-old-ie-min.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/grids-responsive-min.css">
  <!--<![endif]-->

  <!--[if lte IE 8]>
  <link rel="stylesheet" href="http://lenkiefer.com/css/side-menu-old-ie.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="http://lenkiefer.com/css/side-menu.css">
  <!--<![endif]-->

  <link rel="stylesheet" href="http://lenkiefer.com/css/blackburn.css">

  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css">

  
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Raleway&display=swap" rel="stylesheet" type="text/css">

  
  <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

 
  

  
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.6.0/styles/androidstudio.min.css">
  <script async src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.6.0/highlight.min.js"></script>
  
  <script>hljs.initHighlightingOnLoad();</script>
  

  <link rel="shortcut icon" href="http://lenkiefer.com/img/favicon.ico" type="image/x-icon" />

  
  

</head>


<body>
<div id="layout">

  
<a href="#menu" id="menuLink" class="menu-link">
  
  <span></span>
</a>
<div id="menu">

  
  <a class="pure-menu-heading brand" href="http://lenkiefer.com/">Len Kiefer</a>


  <div class="pure-menu">
    <ul class="pure-menu-list">
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="http://lenkiefer.com/"><i class='fa fa-home fa-fw'></i>Home</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="http://lenkiefer.com/post/"><i class='fa fa-list fa-fw'></i>Archive</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="http://lenkiefer.com/about/"><i class='fa fa-user fa-fw'></i>About</a>
      
        </li>
      
    </ul>
  </div>

  <div class="pure-menu social">
  <ul class="pure-menu-list">

    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://twitter.com/@lenkiefer" rel="me" target="_blank"><i class="fab fa-twitter-square fa-fw"></i>Twitter</a>
    </li>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://linkedin.com/in/leonard-kiefer-51175331" rel="me" target="_blank"><i class="fab fa-linkedin fa-fw"></i>LinkedIn</a>
    </li>
    

    

    

    

    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://github.com/lenkiefer" rel="me" target="_blank"><i class="fab fa-github-square fa-fw"></i>GitHub</a>
    </li>
    

    

    

    

    

    

    

    

    

    

    

    

    

  </ul>
</div>


  <div>
  <div class="small-print">
    <small>&copy; 2021. All rights reserved.</small>
  </div>
  <div class="small-print">
    <small>Built with&nbsp;<a href="https://gohugo.io/" target="_blank">Hugo</a></small>
    <small>Theme&nbsp;<a href="https://github.com/yoshiharuyamashita/blackburn" target="_blank">Blackburn</a></small>
  </div>
</div>

</div>


  <div id="main">


       <meta name="twitter:card" content="summary_large_image">
       <meta name="twitter:image" content="http://lenkiefer.com//img/charts_2022_04_04/pmms_delta_12mo.png" >
     
    <meta property="og:title" content="Mortgage rate increase">
    <meta property="og:description" content="Charting the largest increase in mortgage rates this century">

<div class="header">
  <h1>Mortgage rate increase</h1>
  <h2>Charting the largest increase in mortgage rates this century</h2>
</div>
<div class="content">

  <div class="post-meta">

  <div>
    <i class="fa fa-calendar fa-fw"></i>
    <time>2022/04/04</time>
  </div>

  

  

  
  
  
  <div>
    <i class="fa fa-tags fa-fw"></i>
    
      <a class="post-taxonomy-tag" href="http://lenkiefer.com/tags/r">R</a>&nbsp;&#47;
    
      <a class="post-taxonomy-tag" href="http://lenkiefer.com/tags/housing">housing</a>
    
  </div>
  
  

</div>

  
<script src="http://lenkiefer.com/rmarkdown-libs/header-attrs/header-attrs.js"></script>


<p>Mortgage rates have been increasing. If you measure rates with the last observed value in the month, then March 2022 had the largest 12-month increase of the U.S. average 30-year fixed mortgage rate in the 21st century of 1.5 percentage points. If you go back to the prior century there were five periods where rates increased by at least 1.5 percentage points on a 12-month basis.</p>
<p>Of those periods, two were during a recession, while for the other three, the economy avoided a recession for at least the next 12 months. For a related chart, see <a href="https://calculatedrisk.substack.com/p/it-is-the-change-in-monthly-payment">Calculated Risk</a>, which charts the percent change in mortgage rates. Coming off a very low base, the recent increases are the near largest recorded.</p>
<p><blockquote class="twitter-tweet"><p lang="en" dir="ltr">mortgage rates are up 1.5 percentage points from a year ago, the biggest 1-year increase this century<br><br>last century we had 5 episodes where rates increased that fast<br><br>2 were concurrent with recessions, but after other 3 economy was not in recession within next year <a href="https://t.co/YkHxbNZe4j">pic.twitter.com/YkHxbNZe4j</a></p>&mdash; ðŸ“ˆ Len Kiefer ðŸ“Š (@lenkiefer) <a href="https://twitter.com/lenkiefer/status/1509883310075490309?ref_src=twsrc%5Etfw">April 1, 2022</a></blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</p>
<p>Letâ€™s make a couple charts with <a href="https://www.r-project.org/">R</a></p>
<p>First weâ€™ll make this chart, same as the tweet.</p>
<p><img src="../../../../img/charts_2022_04_04/pmms_delta_12mo.png" style="width:700px"></p>
<p>Then weâ€™ll make another one focusing on 3-month changes.</p>
<p><img src="../../../../img/charts_2022_04_04/pmms_delta_3mo.png" style="width:700px"></p>
<div id="code-for-line-chart" class="section level1">
<h1>Code for line chart</h1>
<p>The first chart uses just a touch of ggfx to highlight some of the points.</p>
<pre class="r"><code>################################
# load libraries----
################################

library(ggfx)
library(tidyverse)
library(data.table)
library(extrafont)


################################
# create chart theme----
################################

theme_len &lt;- function(font=&quot;Arial&quot;, bs=24,...){
  theme_minimal(base_size=bs,base_family=font,...) %+replace%
    theme(plot.caption=element_text(hjust=0,size=rel(0.5)),
          plot.title=element_text(size=rel(1.25),face=&quot;bold&quot;,hjust=0,
                                  margin=margin(0,0,10,0)),
          plot.subtitle=element_text(face=&quot;italic&quot;,hjust=0,margin=margin(0,0,10,0)
                                     ,size=rel(0.75)
          ),
          plot.background=element_rect(fill=&quot;white&quot;,color=NA),
          panel.background=element_rect(fill=&quot;white&quot;,color=NA),
          plot.margin=margin(1,1,1,1,&quot;cm&quot;)
    )
  
}



################################
# load data----
################################

# nber recessions data frame just since 1973


recessions.df = read.table(textConnection(
  &quot;Peak, Trough
  1973-11-01, 1975-03-01
  1980-01-01, 1980-07-01
  1981-07-01, 1982-11-01
  1990-07-01, 1991-03-01
  2001-03-01, 2001-11-01
  2007-12-01, 2009-06-01
  2020-02-02, 2020-04-01&quot;), sep=&#39;,&#39;,
  colClasses=c(&#39;Date&#39;, &#39;Date&#39;), header=TRUE)

# mortgage data
df &lt;- fread(&quot;http://www.freddiemac.com/pmms/docs/PMMS_history.csv&quot;) 
df$date &lt;- as.Date(df$date,format=&quot;%m/%d/%Y&quot;)
dd &lt;- last(df$date)

dfm3 &lt;- 
  df %&gt;% group_by(year=year(date), 
                  month=month(date),
                  monthf=fct_reorder(format(date,&quot;%b&quot;),month(date)),
                  month=as.factor(month(date))) %&gt;% 
  summarize(rate=last(pmms30,na.rm=TRUE),
            date= last(date,na.rm=TRUE),
            rate15=mean(pmms15,na.rm=TRUE)) %&gt;%
  ungroup()%&gt;%
  mutate(dr=rate-lag(rate,3),
         dr12=rate-lag(rate,12))


# create indicators for peaks

dfm3d &lt;- filter(dfm3,date %in% as.Date(c(&quot;2022-03-31&quot;, 
                                         &quot;2000-01-28&quot;, 
                                         &quot;1994-12-30&quot;, 
                                         &quot;1984-06-29&quot;, 
                                         &quot;1981-09-25&quot;, 
                                         &quot;1980-04-25&quot;)))


# create plot

ggplot(data=dfm3, aes(x=date,y=dr12, label=format(date,&quot;%b-%Y&quot;)))+
  geom_rect(data=filter(recessions.df,Peak&gt;=&quot;1970-01-01&quot;), 
            inherit.aes=FALSE,aes(xmin=Peak,xmax=Trough,ymin=-Inf,ymax=Inf),
            fill=&quot;dodgerblue&quot;,alpha=0.25)+
  geom_line(size=1.1)+
  theme_len(font=&quot;Rockwell&quot;)+
  scale_x_date(date_breaks=&quot;5 years&quot;,date_labels=&quot;%Y&quot;)+
  with_outer_glow(geom_point(data=.%&gt;% filter(date==max(date)), color=&quot;white&quot;),colour=&quot;red&quot;,sigma=5,expand=5)+
  with_outer_glow(geom_point(data= head(dfm3d,-1), color=&quot;white&quot;),colour=&quot;forestgreen&quot;,sigma=5,expand=5)+
  with_outer_glow(geom_text(data= head(dfm3d,-1), color=&quot;white&quot;,nudge_y=0.4,hjust=1),colour=&quot;forestgreen&quot;,sigma=5,expand=5)+
  with_outer_glow(geom_text(data= tail(dfm3d,1), color=&quot;white&quot;,nudge_y=0.4,hjust=1),colour=&quot;red&quot;,sigma=5,expand=5)+
  geom_hline(data=.%&gt;% filter(date==max(date)), aes(yintercept=dr12),linetype=2,color=&quot;red&quot;)+
  theme(panel.grid.minor=element_blank())+
  scale_y_continuous(position=&quot;right&quot;,breaks=seq(-5,6,1))+
  labs(x=&quot;date (monthly)&quot;,
       y=&quot;&quot;,
       title=&quot;U.S. mortgage rates up 1.5 percentage points,\nbiggest increase this century&quot;,
       subtitle=&quot;12-month change in U.S. 30-year fixed mortgage rates (%)&quot;,
       caption=&quot;@lenkiefer | Source: Freddie Mac Primary Mortgage Market Survey\nchange computed from last observed weekly value in the month\nshading denotes NBER recessions&quot;)</code></pre>
<div id="code-for-tile-plot" class="section level2">
<h2>Code for tile plot</h2>
<p>And hereâ€™s the code for the tile plot. The code to construct the color scheme is described in this post <a href="http://lenkiefer.com/2019/07/24/housing-usually-heats-up-in-summer/">Housing usually heats up in summer</a>.</p>
<pre class="r"><code># Function for colors ----
# adapted from https://drsimonj.svbtle.com/creating-corporate-colour-palettes-for-ggplot2
#####################################################################################
## Make Color Scale ----  ##
#####################################################################################
my_colors &lt;- c(
  &quot;green&quot;      = rgb(103,180,75, maxColorValue = 256),
  &quot;green2&quot;      = rgb(147,198,44, maxColorValue = 256),
  &quot;lightblue&quot;  =  rgb(9, 177,240, maxColorValue = 256),
  &quot;lightblue2&quot; = rgb(173,216,230, maxColorValue = 256),
  &#39;blue&#39;       = &quot;#00aedb&quot;,
  &#39;red&#39;        = &quot;#d11141&quot;,
  &#39;orange&#39;     = &quot;#f37735&quot;,
  &#39;yellow&#39;     = &quot;#ffc425&quot;,
  &#39;gold&#39;       = &quot;#FFD700&quot;,
  &#39;light grey&#39; = &quot;#cccccc&quot;,
  &#39;purple&#39;     = &quot;#551A8B&quot;,
  &#39;dark grey&#39;  = &quot;#8c8c8c&quot;)


my_cols &lt;- function(...) {
  cols &lt;- c(...)
  if (is.null(cols))
    return (my_colors)
  my_colors[cols]
}


my_palettes &lt;- list(
  `main`  = my_cols(&quot;blue&quot;, &quot;green&quot;, &quot;yellow&quot;),
  `cool`  = my_cols(&quot;blue&quot;, &quot;green&quot;),
  `cool2hot` = my_cols(&quot;lightblue2&quot;,&quot;lightblue&quot;, &quot;blue&quot;,&quot;green&quot;, &quot;green2&quot;,&quot;yellow&quot;,&quot;gold&quot;, &quot;orange&quot;, &quot;red&quot;),
  `hot`   = my_cols(&quot;yellow&quot;, &quot;orange&quot;, &quot;red&quot;),
  `mixed` = my_cols(&quot;lightblue&quot;, &quot;green&quot;, &quot;yellow&quot;, &quot;orange&quot;, &quot;red&quot;),
  `mixed2` = my_cols(&quot;lightblue2&quot;,&quot;lightblue&quot;, &quot;green&quot;, &quot;green2&quot;,&quot;yellow&quot;,&quot;gold&quot;, &quot;orange&quot;, &quot;red&quot;),
  `mixed3` = my_cols(&quot;lightblue2&quot;,&quot;lightblue&quot;, &quot;green&quot;, &quot;yellow&quot;,&quot;gold&quot;, &quot;orange&quot;, &quot;red&quot;),
  `mixed4` = my_cols(&quot;lightblue2&quot;,&quot;lightblue&quot;, &quot;green&quot;, &quot;green2&quot;,&quot;yellow&quot;,&quot;gold&quot;, &quot;orange&quot;, &quot;red&quot;,&quot;purple&quot;),
  `mixed5` = my_cols(&quot;lightblue&quot;,&quot;green&quot;, &quot;green2&quot;,&quot;yellow&quot;,&quot;gold&quot;, &quot;orange&quot;, &quot;red&quot;,&quot;purple&quot;,&quot;blue&quot;),
  `mixed6` = my_cols(&quot;green&quot;, &quot;gold&quot;, &quot;orange&quot;, &quot;red&quot;,&quot;purple&quot;,&quot;blue&quot;),
  `grey`  = my_cols(&quot;light grey&quot;, &quot;dark grey&quot;)
)


my_pal &lt;- function(palette = &quot;main&quot;, reverse = FALSE, ...) {
  pal &lt;- my_palettes[[palette]]
  
  if (reverse) pal &lt;- rev(pal)
  
  colorRampPalette(pal, ...)
}


scale_color_mycol &lt;- function(palette = &quot;main&quot;, discrete = TRUE, reverse = FALSE, ...) {
  pal &lt;- my_pal(palette = palette, reverse = reverse)
  
  if (discrete) {
    discrete_scale(&quot;colour&quot;, paste0(&quot;my_&quot;, palette), palette = pal, ...)
  } else {
    scale_color_gradientn(colours = pal(256), ...)
  }
}

scale_fill_mycol &lt;- function(palette = &quot;main&quot;, discrete = TRUE, reverse = FALSE, ...) {
  pal &lt;- my_pal(palette = palette, reverse = reverse)
  
  if (discrete) {
    discrete_scale(&quot;fill&quot;, paste0(&quot;my_&quot;, palette), palette = pal, ...)
  } else {
    scale_fill_gradientn(colours = pal(256), ...)
  }
}


# Make chart ----
df %&gt;% group_by(year=year(date), 
                month=month(date),
                monthf=fct_reorder(format(date,&quot;%b&quot;),month(date)),
                month=as.factor(month(date))) %&gt;% 
  summarize(rate=last(pmms30,na.rm=TRUE),
            rate15=mean(pmms15,na.rm=TRUE)) %&gt;%
  ungroup()%&gt;%
  mutate(dr=rate-lag(rate,3)) %&gt;% 
  filter(year&gt;1989) %&gt;%
  ggplot(aes(x=monthf,y=fct_reorder(factor(year),-year),
           fill=dr,
           label=format(round(dr,2)),small=2))+
  
  geom_tile()+
  geom_tile(fill=NA,color=&quot;white&quot;,size=0.75)+
  geom_text(aes(color=ifelse(dr&lt;0,&quot;black&quot;,&quot;white&quot;)),
            size=6,fontface=&quot;bold&quot;,font=&quot;Rockwell&quot;,show.legend=&quot;false&quot;)+
  scale_color_manual(values=c(&quot;black&quot;,&quot;white&quot;))+
  theme_len(font=&quot;Rockwell&quot;)+
  theme(plot.caption=element_text(hjust=0),
        panel.grid=element_blank(),
        legend.key.width=unit(3,&quot;cm&quot;),
        legend.position=&quot;top&quot;)+
  scale_fill_mycol(palette=&quot;cool2hot&quot;,name=&quot;3-month change in rate  (percentage points)&quot;,discrete=FALSE)+
  labs(x=&quot;&quot;,y=&quot;&quot;,
       title=&quot;3-month change in U.S. average 30-year fixed mortgage rate&quot;,
       caption=paste0(&quot;@lenkiefer | Source: Freddie Mac Primary Mortgage Market Survey using month ending rates through &quot;,
                      dd))</code></pre>
</div>
</div>

  
  <h4><i class="fas fa-share-alt" aria-hidden="true"></i>&nbsp;Share!</h4>
<ul class="share-buttons">
	<li><a href="https://twitter.com/intent/tweet?url=http%3a%2f%2flenkiefer.com%2f2022%2f04%2f04%2f2022-04-04-mtg-rate-increases%2f" target="_blank" title="Tweet"><i class="fab fa-twitter" aria-hidden="true"></i><span class="sr-only">Tweet</span></a>
	</li>
</ul>


<style>
	ul.share-buttons{
	  list-style: none;
	  padding: 0;
	}

	ul.share-buttons li{
	  display: inline;
	}

	ul.share-buttons .sr-only{
	  position: absolute;
	  clip: rect(1px 1px 1px 1px);
	  clip: rect(1px, 1px, 1px, 1px);
	  padding: 0;
	  border: 0;
	  height: 1px;
	  width: 1px;
	  overflow: hidden;
	}
</style>


  
<div class="prev-next-post pure-g">
  <div class="pure-u-1-24" style="text-align: left;">
    
    <a href="http://lenkiefer.com/2022/01/19/2022-01-19-housing-starts/"><i class="fa fa-chevron-left"></i></a>
    
  </div>
  <div class="pure-u-10-24">
    
    <nav class="prev">
      <a href="http://lenkiefer.com/2022/01/19/2022-01-19-housing-starts/">Starting off 2022 with Housing Starts Charts</a>
    </nav>
    
  </div>
  <div class="pure-u-2-24">
    &nbsp;
  </div>
  <div class="pure-u-10-24">
    
  </div>
  <div class="pure-u-1-24" style="text-align: right;">
    
  </div>
</div>


  
  
  
  

  

</div>

</div>
</div>
<script src="http://lenkiefer.com/js/ui.js"></script>
<script src="http://lenkiefer.com/js/menus.js"></script>




<script>
  
  if (window.location.hostname != "localhost") {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-66905937-1', 'auto');
    ga('send', 'pageview');
  }
</script>





<script src="http://lenkiefer.com/js/math-code.js"></script>
  <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>
  


</body>
</html>

